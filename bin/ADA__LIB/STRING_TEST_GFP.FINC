include 'TEXT_IO_GFP.FINC'
PRO	STRING_TEST_L1				;---------- PRO STRING_TEST
ELB 1					;    BODY ELAB
VAR L_disp, d				; variable entiere


namespace NAT_IO				;---------- GENERIC PACKAGE INSTANTIATION
elab_spec:				;    SPEC ELAB
					; variables de param√©trage instance
VAR NUM_upper_prmofs, q			; prm instance (-16)
VAR NUM_lower_prmofs, q			; prm instance (-8)
VAR GFP_disp, q			; trou du Generic Frame Pointer
VAR DEFAULT_WIDTH_disp, d			; variable locale instance entiere (+8)
; calculer def_wid avec num_upper / lower
	Sd  1,	DEFAULT_WIDTH_disp
VAR DEFAULT_BASE_disp, d			; variable locale instance entiere (+12)
	LI	 10
	Sd  1,	DEFAULT_BASE_disp
					; LANCEURS DE MODELES
if defined GET_L1_
PRO	GET_L1				;---------- PRO GET
PRMS					;    debut parametrage
	PRM FILE_prmofs				; in
	PRM ITEM_prmofs				; out
	PRM WIDTH_ofs				; in
endPRMS					;    fin parametrage
ELB 2
begin:
	LVA  1,	GFP_disp			; GENERIC FRAME POINTER AJOUTE
	Ld  2,	-WIDTH_ofs
	La  2,	-ITEM_prmofs
	La  2,	-FILE_prmofs
	CALL TEXT_IO.INTEGER_IO. ,GET_L65
	UNLINK 2
	RTD	prm_siz
endPRO					;---------- end PRO GET
end if
if defined GET_L2_
PRO	GET_L2				;---------- PRO GET
PRMS					;    debut parametrage
	PRM ITEM_prmofs				; out
	PRM WIDTH_ofs				; in
endPRMS					;    fin parametrage
ELB 2
begin:
	UNLINK 2
	RTD	prm_siz
endPRO					;---------- end PRO GET
end if
if defined PUT_L3_
PRO	PUT_L3				;---------- PRO PUT
PRMS					;    debut parametrage
	PRM FILE_prmofs				; in
	PRM ITEM_ofs				; in
	PRM WIDTH_ofs				; in
	PRM BASE_ofs				; in
endPRMS					;    fin parametrage
ELB 2
begin:
	UNLINK 2
	RTD	prm_siz
endPRO					;---------- end PRO PUT
end if
if defined PUT_L4_
PRO	PUT_L4				;---------- PRO PUT
PRMS					;    debut parametrage
	PRM ITEM_ofs				; in
	PRM WIDTH_ofs				; in
	PRM BASE_ofs				; in
endPRMS					;    fin parametrage
ELB 2
begin:
	UNLINK 2
	RTD	prm_siz
endPRO					;---------- end PRO PUT
end if
if defined GET_L5_
PRO	GET_L5				;---------- PRO GET
PRMS					;    debut parametrage
	PRM FROM_prmofs				; in
	PRM ITEM_prmofs				; out
	PRM LAST_prmofs				; out
endPRMS					;    fin parametrage
ELB 2
begin:
	UNLINK 2
	RTD	prm_siz
endPRO					;---------- end PRO GET
end if
if defined PUT_L6_
PRO	PUT_L6				;---------- PRO PUT
PRMS					;    debut parametrage
	PRM TO_prmofs				; out
	PRM ITEM_ofs				; in
	PRM BASE_ofs				; in
endPRMS					;    fin parametrage
ELB 2
begin:
	UNLINK 2
	RTD	prm_siz
endPRO					;---------- end PRO PUT
end if
end namespace 				;---------- end generic package instantiation NAT_IO
; EXC_LBL	L7
					;    end elab
begin:					;---------- BDY INSTRUCTIONS
	LI	 0
	LVA  1,	L_disp
	CALL	STRING_TEST_L1.NAT_IO. ,GET_L2
	UNLINK 1
	RTD
excep:
endPRO					;---------- end PRO STRING_TEST
