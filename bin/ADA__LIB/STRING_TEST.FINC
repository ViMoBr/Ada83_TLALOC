include 'TEXT_IO.FINC'
PRO	STRING_TEST_L1				;---------- PRO STRING_TEST
ELB 1					;    BODY ELAB
VAR S_disp, q				; variable tableau
namespace S
VAR SIZ_1, d
VAR FST_1, d
VAR LST_1, d
	LI	1
	Sq 1,	SIZ_1
	LI	 1
	Sd 1,	FST_1
	LI	 256
	Sd 1,	LST_1
	Ld 1,	LST_1
	INC
	Ld 1,	FST_1
	SUB
	Ld 1,	SIZ_1
	MUL
end namespace 
	CO_VAR					; allocation sur la co-pile
	Sa 1,	S_disp
VAR L_disp, d				; variable entiere
VAR M_disp, q				; variable tableau
namespace M
VAR SIZ_1, d
VAR FST_1, d
VAR LST_1, d
VAR SIZ_2, d
VAR FST_2, d
VAR LST_2, d
	LI	4
	Sq 1,	SIZ_2
	LI	 1
	Sd 1,	FST_2
	LI	 18
	Sd 1,	LST_2
	Ld 1,	LST_2
	INC
	Ld 1,	FST_2
	SUB
	Ld 1,	SIZ_2
	MUL
	Sd 1,	SIZ_1
	LI	 1
	Sd 1,	FST_1
	LI	 15
	Sd 1,	LST_1
	Ld 1,	LST_1
	INC
	Ld 1,	FST_1
	SUB
	Ld 1,	SIZ_1
	MUL
end namespace 
	CO_VAR					; allocation sur la co-pile
	Sa 1,	M_disp
VAR DEFAULT_WIDTH_disp, d			; variable entiere
	Sd  1,	DEFAULT_WIDTH_disp
VAR DEFAULT_BASE_disp, d			; variable entiere
	LI	 10
	Sd  1,	DEFAULT_BASE_disp
; EXC_LBL	L7
					;    end elab
begin:					;---------- BDY INSTRUCTIONS
	LI	 0
	LVA  1,	L_disp
	CALL	NAT_IO. ,GET_L2
STR STR_L8, 'Entrez une chaine svp : '		; constante string='Entrez une chaine svp : '
	LCA	STR_L8_ptr
	CALL	TEXT_IO. ,PUT_LINE_L60
	LVA  1,	L_disp
	LVA  1,	S_disp
	CALL	TEXT_IO. ,GET_LINE_L58
	LVA  1,	S_disp
	CALL	TEXT_IO. ,PUT_L56
STR STR_L9, 'Merci'				; constante string='Merci'
	LCA	STR_L9_ptr
	CALL	TEXT_IO. ,PUT_LINE_L60
	UNLINK 1
	RTD	prm_siz
excep:
endPRO					;---------- end PRO STRING_TEST
